{"version":3,"names":["cov_1xrx9dvlt3","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","ImageProcessing","toBitmap","data","width","height","pixels","Uint8Array","bytesPerLine","Math","ceil","bitmap","y","x","offset","oldPixel","newPixel","byteIndex","floor","bitIndex","quantError","addError","error","add","idx","val","max","min","exports"],"sources":["/Users/zfkc/Desktop/03-移动端项目/taro-bluetooth-print/src/utils/image.ts"],"sourcesContent":["/**\n * Image Processing Utilities\n */\n\nexport class ImageProcessing {\n  /**\n   * Convert RGBA data to monochrome bitmap (1 bit per pixel)\n   * suitable for ESC/POS GS v 0 command.\n   * Uses Floyd-Steinberg dithering for better quality.\n   */\n  static toBitmap(data: Uint8Array, width: number, height: number): Uint8Array {\n    // Clone data to avoid modifying original\n    const pixels = new Uint8Array(data);\n    const bytesPerLine = Math.ceil(width / 8);\n    const bitmap = new Uint8Array(bytesPerLine * height);\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const offset = (y * width + x) * 4;\n        const oldPixel = 0.299 * pixels[offset] + 0.587 * pixels[offset + 1] + 0.114 * pixels[offset + 2];\n        const newPixel = oldPixel < 128 ? 0 : 255;\n\n        // Set pixel in bitmap (0 = white, 1 = black in standard, but ESC/POS usually 1=black)\n        // Actually standard ESC/POS GS v 0: 1 = black, 0 = white.\n        // If newPixel is 0 (black), we set the bit.\n        if (newPixel === 0) {\n          const byteIndex = y * bytesPerLine + Math.floor(x / 8);\n          const bitIndex = 7 - (x % 8);\n          bitmap[byteIndex] |= (1 << bitIndex);\n        }\n\n        const quantError = oldPixel - newPixel;\n\n        // Distribute error to neighbors\n        if (x + 1 < width) {\n          ImageProcessing.addError(pixels, width, x + 1, y, quantError * 7 / 16);\n        }\n        if (x - 1 >= 0 && y + 1 < height) {\n          ImageProcessing.addError(pixels, width, x - 1, y + 1, quantError * 3 / 16);\n        }\n        if (y + 1 < height) {\n          ImageProcessing.addError(pixels, width, x, y + 1, quantError * 5 / 16);\n        }\n        if (x + 1 < width && y + 1 < height) {\n          ImageProcessing.addError(pixels, width, x + 1, y + 1, quantError * 1 / 16);\n        }\n      }\n    }\n\n    return bitmap;\n  }\n\n  private static addError(pixels: Uint8Array, width: number, x: number, y: number, error: number) {\n    const offset = (y * width + x) * 4;\n    // We only care about RGB for grayscale calc, but let's adjust all channels roughly or just rely on the fact \n    // we re-calculate grayscale next time we visit this pixel. \n    // To be accurate, we should store grayscale values in a separate array, but modifying RGB works \"okay\" for simple implementation.\n    // Better: convert to grayscale array first.\n    // For this implementation, let's just clamp and add to R, G, B to affect the next grayscale calc.\n\n    const add = (idx: number) => {\n      const val = pixels[idx] + error;\n      pixels[idx] = Math.max(0, Math.min(255, val));\n    };\n\n    add(offset);\n    add(offset + 1);\n    add(offset + 2);\n  }\n}\n"],"mappings":";;AAAA;;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC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","ignoreList":[]}